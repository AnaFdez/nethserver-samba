Summary: Nethserver specific Samba configuration files and templates
Name: nethserver-samba
Version: @@VERSION@@
Release: @@RELEASE@@
License: GPL
Source: %{name}-%{version}.tar.gz
BuildArch: noarch
BuildRequires: nethserver-devtools
URL: %{url_prefix}/%{name} 

Requires: nethserver-directory >= 1.1.1-5
Requires: samba >= 3.4.3
Requires: samba-client >= 3.4.3
Requires: samba-common >= 3.4.3
Requires: samba-winbind
Requires: tdb-tools

%description
* Samba PDC and Workstation roles
* Integrate smb shares with ibays (shared folders)
* CUPS support
* WINS support

%prep
%setup

%build
perl createlinks

%install
rm -rf $RPM_BUILD_ROOT
(cd root   ; find . -depth -print | cpio -dump $RPM_BUILD_ROOT)
%{genfilelist} $RPM_BUILD_ROOT \
    > %{name}-%{version}-filelist
echo "%doc COPYING"          >> %{name}-%{version}-filelist

%clean 
rm -rf $RPM_BUILD_ROOT

%post

%files -f %{name}-%{version}-filelist
%defattr(-,root,root)

%changelog
* Tue May  7 2013 Davide Principi <davide.principi@nethesis.it> - 1.2.1-1.ns6
- nethserver-samba-group-sync action: check if samba idmap backend is functional before going on, and don't fail if a unix group does not exist #1870

* Tue Apr 30 2013 Davide Principi <davide.principi@nethesis.it> - 1.2.0-1.ns6
- Store machine accounts under ou=Computers branch #1890 
- Implant migrated SID as "localsid" #1895
- Shared folder guest access #1882
- winregistry-patches served by httpd-admin #1799
- SharedFolder UI plugin: hide profile widget #1881
- Full automatic package install/upgrade/uninstall support #1870 #1872 #1874
- Update group description when changed from UI #1861
- Migration ibay profile #1855
- Fixed idmap LDAP backend configuration: pre-defined groups were not available after migration #1829
- Partial implementation of Active Directory domain join #1746
- Removed shadow copy checkbox from UI #1750

* Tue Mar 19 2013 Davide Principi <davide.principi@nethesis.it> - 1.1.0-1.ns6
- smb.conf template: implement ibay profiles. Refs #1724
- /etc/fstab template: enable acl & xattrs attributes. #1658
- smb WinsServerStatus WinsServerIP props to configure wins support. #7
- smb.conf template refactor. #7
- CUPS integration. #1626
- Migration support. #1657 #1667
- Protect samba password ldap field. #1650
- *.spec.in: Removed nethserver-devtools specific version requirement; Fixed Released tag expansion Refs; use url_prefix macro in URL tag; set minimum version requirements. #1653 #1654
 


